<div align="center">
    <img src=".meta/logo.png" width=300 alt="fat32-raw logo"/>
	<h1> FAT32-Raw üöÄ</h1>
	<a href="https://github.com/meowrch/fat32-raw/issues">
		<img src="https://img.shields.io/github/issues/meowrch/fat32-raw?color=ffb29b&labelColor=1C2325&style=for-the-badge">
	</a>
	<a href="https://github.com/meowrch/fat32-raw/stargazers">
		<img src="https://img.shields.io/github/stars/meowrch/fat32-raw?color=fab387&labelColor=1C2325&style=for-the-badge">
	</a>
	<a href="./LICENSE">
		<img src="https://img.shields.io/github/license/meowrch/fat32-raw?color=FCA2AA&labelColor=1C2325&style=for-the-badge">
	</a>
    <br>
	<br>
	<a href="./README.ru.md">
		<img src="https://img.shields.io/badge/README-RU-blue?color=cba6f7&labelColor=cba6f7&style=for-the-badge">
	</a>
	<a href="./README.md">
		<img src="https://img.shields.io/badge/README-ENG-blue?color=C9CBFF&labelColor=1C2325&style=for-the-badge">
	</a>
</div>

–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è Rust-–±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –ø—Ä—è–º–æ–π —Ä–∞–±–æ—Ç—ã —Å FAT32-—Ä–∞–∑–¥–µ–ª–∞–º–∏ –∏ –æ–±—Ä–∞–∑–∞–º–∏. –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π –¥–æ—Å—Ç—É–ø –∫ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ FAT32 —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —á—Ç–µ–Ω–∏—è, –∑–∞–ø–∏—Å–∏, —Å–æ–∑–¥–∞–Ω–∏—è –∏ —É–¥–∞–ª–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π.

## ‚ú® –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- **–ü—Ä—è–º–∞—è —Ä–∞–±–æ—Ç–∞ —Å —Ä–∞–∑–¥–µ–ª–∞–º–∏**: –ù–∞—Ç–∏–≤–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ ESP (EFI System Partition), SD-–∫–∞—Ä—Ç, USB-—Ñ–ª–µ—à–µ–∫
- **–ö—Ä–æ—Å—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç—å**: –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Windows –∏ Linux —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –¥–ª—è –û–° –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–µ–π
- **–ü–æ–ª–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª FAT32**: –ß—Ç–µ–Ω–∏–µ, –∑–∞–ø–∏—Å—å, —Å–æ–∑–¥–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
- **–í–ª–æ–∂–µ–Ω–Ω—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –ø–æ –≥–ª—É–±–æ–∫–æ –≤–ª–æ–∂–µ–Ω–Ω—ã–º —Å—Ç—Ä—É–∫—Ç—É—Ä–∞–º –∫–∞—Ç–∞–ª–æ–≥–æ–≤
- **–î–ª–∏–Ω–Ω—ã–µ –∏–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤ (LFN)**: –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Unicode-–∏–º—ë–Ω –¥–æ 255 —Å–∏–º–≤–æ–ª–æ–≤
- **–ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞–∑–±–æ—Ä BPB (BIOS Parameter Block)

### üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `unsafe` –∫–æ–¥–∞, —Å—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —á—Ç–µ–Ω–∏—è/–∑–∞–ø–∏—Å–∏ —Å –±—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏–µ–π
- **–ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å**: –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫, –∑–∞—â–∏—Ç–∞ –æ—Ç –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- **Windows-—Å–ø–µ—Ü–∏—Ñ–∏–∫–∞**: –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Å –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞ (OS Error 5) —á–µ—Ä–µ–∑ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ–ª–∞–≥–∏ –æ—Ç–∫—Ä—ã—Ç–∏—è —Ñ–∞–π–ª–æ–≤

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –†–∞–±–æ—Ç–∞ —Å –æ–±—Ä–∞–∑–æ–º –¥–∏—Å–∫–∞
```rust
use fat32_raw::Fat32Volume;

fn main() -> std::io::Result<()> {
    // –û—Ç–∫—Ä—ã–≤–∞–µ–º FAT32-–æ–±—Ä–∞–∑
    let mut volume = Fat32Volume::open_esp(Some("esp.img"))?
        .expect("–ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–∫—Ä—ã—Ç—å FAT32-–æ–±—Ä–∞–∑");

    // –°–æ–∑–¥–∞—ë–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
    volume.create_dir_lfn("config")?;
    
    // –°–æ–∑–¥–∞—ë–º –∏ –∑–∞–ø–∏—Å—ã–≤–∞–µ–º —Ñ–∞–π–ª
    volume.create_file_lfn("test.txt")?;
    let content = b"Hello from fat32-raw!";
    volume.write_file("test.txt", content)?;
    
    // –ß–∏—Ç–∞–µ–º —Ñ–∞–π–ª –æ–±—Ä–∞—Ç–Ω–æ
    if let Some(data) = volume.read_file("test.txt")? {
        println!("–°–æ–¥–µ—Ä–∂–∏–º–æ–µ: {}", String::from_utf8_lossy(&data));
    }
    
    // –£–¥–∞–ª—è–µ–º —Ñ–∞–π–ª
    volume.delete_file_lfn("test.txt")?;
    
    Ok(())
}
```

### –†–∞–±–æ—Ç–∞ —Å —Ä–µ–∞–ª—å–Ω—ã–º ESP-—Ä–∞–∑–¥–µ–ª–æ–º
```rust
use fat32_raw::Fat32Volume;

fn main() -> std::io::Result<()> {
    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –∏ –æ—Ç–∫—Ä—ã—Ç–∏–µ ESP-—Ä–∞–∑–¥–µ–ª–∞
    // –ù–∞ Windows —Ç—Ä–µ–±—É—é—Ç—Å—è –ø—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
    // –ù–∞ Linux –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è sudo
    let mut volume = Fat32Volume::open_esp(None::<&str>)?
        .expect("ESP-—Ä–∞–∑–¥–µ–ª –Ω–µ –Ω–∞–π–¥–µ–Ω");
    
    // –†–∞–±–æ—Ç–∞–µ–º —Å —Ä–∞–∑–¥–µ–ª–æ–º —Ç–∞–∫ –∂–µ, –∫–∞–∫ —Å –æ–±—Ä–∞–∑–æ–º
    volume.create_dir_lfn("MyApp")?;
    volume.create_file_lfn("MyApp_config.txt")?;
    volume.write_file("MyApp_config.txt", b"Configuration")?;
    
    // –ü–µ—Ä–µ—á–∏—Å–ª—è–µ–º —Ñ–∞–π–ª—ã –≤ –∫–æ—Ä–Ω–µ
    let entries = volume.list_root()?;
    for entry in entries {
        println!("{} - {}", 
            entry.name, 
            if entry.is_directory { "DIR" } else { "FILE" }
        );
    }
    
    Ok(())
}
```

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

–î–æ–±–∞–≤—å—Ç–µ –≤ `Cargo.toml`:
```toml
[dependencies]
fat32-raw = "1.0"
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç –Ω–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π:

```bash
# –ó–∞–ø—É—Å–∫ –æ–±—ã—á–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
cargo test

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º ESP (—Ç—Ä–µ–±—É–µ—Ç sudo/Administrator)
# –û–°–¢–û–†–û–ñ–ù–û: —ç—Ç–æ—Ç —Ç–µ—Å—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ä–µ–∞–ª—å–Ω—ã–º ESP —Ä–∞–∑–¥–µ–ª–æ–º!
sudo cargo test --test real_esp_test
```

## üèóÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
fat32-raw/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ lib.rs              # –ì–ª–∞–≤–Ω—ã–π –º–æ–¥—É–ª—å –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ error.rs            # –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
‚îÇ   ‚îú‚îÄ‚îÄ fat32/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ mod.rs          # –ú–æ–¥—É–ª—å FAT32
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ volume.rs       # –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã —Å —Ç–æ–º–æ–º
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ directory.rs    # –†–∞–±–æ—Ç–∞ —Å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è–º–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ file.rs         # –†–∞–±–æ—Ç–∞ —Å —Ñ–∞–π–ª–∞–º–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ fat_table.rs    # –†–∞–±–æ—Ç–∞ —Å FAT-—Ç–∞–±–ª–∏—Ü–µ–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ lfn.rs          # –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–ª–∏–Ω–Ω—ã—Ö –∏–º—ë–Ω —Ñ–∞–π–ª–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ utils.rs        # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ platform/
‚îÇ       ‚îú‚îÄ‚îÄ mod.rs          # –ü–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã–µ –∞–±—Å—Ç—Ä–∞–∫—Ü–∏–∏
‚îÇ       ‚îú‚îÄ‚îÄ windows/        # Windows-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–π –∫–æ–¥
‚îÇ       ‚îî‚îÄ‚îÄ unix/           # Unix/Linux-—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–π –∫–æ–¥
‚îî‚îÄ‚îÄ tests/
    ‚îî‚îÄ‚îÄ real_esp_test.rs    # –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–µ —Ç–µ—Å—Ç—ã —Å —Ä–µ–∞–ª—å–Ω—ã–º ESP
```

## üöß –ü–ª–∞–Ω—ã —Ä–∞–∑–≤–∏—Ç–∏—è

- [X] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∏ —É–¥–∞–ª–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π  
- [X] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ ESP —Ä–∞–∑–¥–µ–ª–∞ –Ω–∞ –¥–∏—Å–∫–∞—Ö
- [X] –†–∞–±–æ—Ç–∞ —Å –≤–ª–æ–∂–µ–Ω–Ω—ã–º–∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è–º–∏  
- [X] –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Windows –∏ Linux  
- [X] –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Å –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞ –≤ Windows
- [ ] ‚è≥ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ MBR-—Ä–∞–∑–¥–µ–ª–æ–≤
- [ ] ‚è≥ –î–µ—Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- [ ] ‚è≥ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ FAT12/FAT16
- [X] ‚è≥ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å GitHub Actions CI/CD

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

–ú—ã –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ–º –≤–∫–ª–∞–¥ –≤ —Ä–∞–∑–≤–∏—Ç–∏–µ –ø—Ä–æ–µ–∫—Ç–∞! –ü–æ–∂–∞–ª—É–π—Å—Ç–∞:
1. –§–æ—Ä–∫–Ω–∏—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
2. –°–æ–∑–¥–∞–π—Ç–µ –≤–µ—Ç–∫—É –¥–ª—è –≤–∞—à–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
4. –û—Ç–ø—Ä–∞–≤—å—Ç–µ pull request

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π [GPLv3](./LICENSE).

## üôè –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

- –°–æ–æ–±—â–µ—Å—Ç–≤—É Rust –∑–∞ –æ—Ç–ª–∏—á–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
- –ê–≤—Ç–æ—Ä–∞–º —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ FAT32 –æ—Ç Microsoft
- –í—Å–µ–º –∫–æ–Ω—Ç—Ä–∏–±—å—é—Ç–æ—Ä–∞–º –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –ø—Ä–æ–µ–∫—Ç–∞

---

<div align="center">
–°–¥–µ–ª–∞–Ω–æ —Å ‚ù§Ô∏è –∏—Å–ø–æ–ª—å–∑—É—è Rust
</div>
